!function(){"use strict";var n={820:function(n,t,e){e.d(t,{Z:function(){return s}});var o=e(537),r=e.n(o),A=e(645),i=e.n(A)()(r());i.push([n.id,'body {\n  margin: 0;\n  padding: 0;\n  background-color: skyblue;\n  box-sizing: border-box;\n}\nbody .main {\n  width: 360px;\n  height: 420px;\n  background-color: #b7d4a8;\n  border: 10px solid black;\n  border-radius: 30px;\n  margin: 20px auto;\n  font-size: 20px;\n  font-family: "Courier", Courier, monospace;\n  font-weight: bold;\n}\nbody .main .stage {\n  position: relative;\n  width: 300px;\n  height: 300px;\n  border: black 2px solid;\n  margin: 30px auto;\n  border-radius: 10px;\n}\nbody .main .stage .startMask {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  background-color: #b7d4a8;\n  border-radius: 10px;\n  text-align: center;\n}\nbody .main .stage .startMask .title {\n  padding-top: 50px;\n}\nbody .main .stage .startMask .startBtn {\n  border-radius: 20px;\n}\nbody .main .stage .gameOverMask {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  background-color: #b7d4a8;\n  border-radius: 10px;\n  text-align: center;\n}\nbody .main .stage .gameOverMask .title {\n  padding-top: 50px;\n}\nbody .main .stage .gameOverMask label {\n  vertical-align: middle;\n}\nbody .main .stage .gameOverMask input {\n  margin-top: 40px;\n  width: 50px;\n}\nbody .main .stage .snake {\n  position: absolute;\n}\nbody .main .stage .snake div {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border: #b7d4a8 2px solid;\n  background-color: #0fa65a;\n  border-radius: 40%;\n}\nbody .main .stage .snake div:first-child {\n  background-color: #079e2f;\n  border-radius: 50%;\n  border: #ffffff 2px dotted;\n}\nbody .main .stage .food {\n  border: #b7d4a8 2px solid;\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  background-color: red;\n  top: 50px;\n  left: 50px;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  align-content: space-between;\n}\nbody .main .stage .food div {\n  width: 5px;\n  height: 4px;\n  transform: rotate(45deg);\n  background-color: black;\n}\nbody .main .score-panel {\n  display: flex;\n  justify-content: space-around;\n}\nbody .ctrl {\n  margin: 0 auto;\n  width: 200px;\n  height: 200px;\n  background-color: #dff0f5;\n  position: relative;\n  border-radius: 50%;\n}\nbody .ctrl button {\n  text-align: center;\n  font-size: 30px;\n  font-weight: bold;\n  background-color: #ccdaae;\n  position: absolute;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n}\nbody .ctrl .btnUp {\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\nbody .ctrl .btnLeft {\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n}\nbody .ctrl .btnDown {\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\nbody .ctrl .btnRight {\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n}\n',"",{version:3,sources:["webpack://./src/index.less"],names:[],mappings:"AAAA;EACI,SAAA;EACA,UAAA;EACA,yBAAA;EACA,sBAAA;AACJ;AALA;EAOQ,YAAA;EACA,aAAA;EACA,yBAAA;EACA,wBAAA;EACA,mBAAA;EACA,iBAAA;EACA,eAAA;EACA,0CAAA;EACA,iBAAA;AACR;AAhBA;EAiBY,kBAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,iBAAA;EACA,mBAAA;AAEZ;AAxBA;EAwBgB,kBAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,yBAAA;EACA,mBAAA;EACA,kBAAA;AAGhB;AAjCA;EAgCoB,iBAAA;AAIpB;AApCA;EAmCoB,mBAAA;AAIpB;AAvCA;EAuCgB,aAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,yBAAA;EACA,mBAAA;EACA,kBAAA;AAGhB;AAjDA;EAiDoB,iBAAA;AAGpB;AApDA;EAoDoB,sBAAA;AAGpB;AAvDA;EAuDoB,gBAAA;EACA,WAAA;AAGpB;AA3DA;EA4DgB,kBAAA;AAEhB;AA9DA;EA+DoB,kBAAA;EACA,WAAA;EACA,YAAA;EACA,yBAAA;EACA,yBAAA;EACA,kBAAA;AAEpB;AADoB;EACI,yBAAA;EACA,kBAAA;EACA,0BAAA;AAGxB;AA3EA;EA6EgB,yBAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,qBAAA;EACA,SAAA;EACA,UAAA;EACA,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,4BAAA;AAChB;AAxFA;EAyFoB,UAAA;EACA,WAAA;EACA,wBAAA;EACA,uBAAA;AAEpB;AA9FA;EAiGY,aAAA;EACA,6BAAA;AAAZ;AAlGA;EAsGQ,cAAA;EACA,YAAA;EACA,aAAA;EACA,yBAAA;EACA,kBAAA;EACA,kBAAA;AADR;AA1GA;EA6GY,kBAAA;EACA,eAAA;EACA,iBAAA;EACA,yBAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;AAAZ;AApHA;EAuHY,MAAA;EACA,SAAA;EACA,2BAAA;AAAZ;AAzHA;EA4HY,OAAA;EACA,QAAA;EACA,2BAAA;AAAZ;AA9HA;EAiIY,SAAA;EACA,SAAA;EACA,2BAAA;AAAZ;AAnIA;EAsIY,QAAA;EACA,QAAA;EACA,2BAAA;AAAZ",sourcesContent:['body {\n    margin: 0;\n    padding: 0;\n    background-color: skyblue;\n    box-sizing: border-box;\n\n    .main {\n        width: 360px;\n        height: 420px;\n        background-color: #b7d4a8;\n        border: 10px solid black;\n        border-radius: 30px;\n        margin: 20px auto;\n        font-size: 20px;\n        font-family: "Courier", Courier, monospace;\n        font-weight: bold;\n        .stage {\n            position: relative;\n            width: 300px;\n            height: 300px;\n            border: black 2px solid;\n            margin: 30px auto;\n            border-radius: 10px;\n            .startMask {\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                z-index: 999;\n                background-color: #b7d4a8;\n                border-radius: 10px;\n                text-align: center;\n                .title {\n                    padding-top: 50px;\n                }\n                .startBtn {\n                    border-radius: 20px;\n                }\n            }\n            .gameOverMask {\n                display: none;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                z-index: 999;\n                background-color: #b7d4a8;\n                border-radius: 10px;\n                text-align: center;\n\n                .title {\n                    padding-top: 50px;\n                }\n                label {\n                    vertical-align: middle;\n                }\n                input {\n                    margin-top: 40px;\n                    width: 50px;\n                }\n            }\n            .snake {\n                position: absolute;\n\n                div {\n                    position: absolute;\n                    width: 10px;\n                    height: 10px;\n                    border: #b7d4a8 2px solid;\n                    background-color: rgb(15, 166, 90);\n                    border-radius: 40%;\n                    &:first-child {\n                        background-color: rgb(7, 158, 47);\n                        border-radius: 50%;\n                        border: rgb(255, 255, 255) 2px dotted;\n                    }\n                }\n            }\n            .food {\n                border: #b7d4a8 2px solid;\n                position: absolute;\n                width: 10px;\n                height: 10px;\n                background-color: red;\n                top: 50px;\n                left: 50px;\n                display: flex;\n                flex-flow: row wrap;\n                justify-content: space-between;\n                align-content: space-between;\n                div {\n                    width: 5px;\n                    height: 4px;\n                    transform: rotate(45deg);\n                    background-color: black;\n                }\n            }\n        }\n        .score-panel {\n            display: flex;\n            justify-content: space-around;\n        }\n    }\n    .ctrl {\n        margin: 0 auto;\n        width: 200px;\n        height: 200px;\n        background-color: rgb(223, 240, 245);\n        position: relative;\n        border-radius: 50%;\n        button {\n            text-align: center;\n            font-size: 30px;\n            font-weight: bold;\n            background-color: rgb(204, 218, 174);\n            position: absolute;\n            width: 80px;\n            height: 80px;\n            border-radius: 50%;\n        }\n        .btnUp {\n            top: 0;\n            left: 50%;\n            transform: translateX(-50%);\n        }\n        .btnLeft {\n            left: 0;\n            top: 50%;\n            transform: translateY(-50%);\n        }\n        .btnDown {\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%);\n        }\n        .btnRight {\n            right: 0;\n            top: 50%;\n            transform: translateY(-50%);\n        }\n    }\n}\n'],sourceRoot:""}]);const s=i},645:function(n){n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",o=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),o&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),o&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,o,r,A){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(i[a]=!0)}for(var d=0;d<n.length;d++){var c=[].concat(n[d]);o&&i[c[0]]||(void 0!==A&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=A),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},537:function(n){n.exports=function(n){var t=n[1],e=n[3];if(!e)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),A="/*# ".concat(r," */"),i=e.sources.map((function(n){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(n," */")}));return[t].concat(i).concat([A]).join("\n")}return[t].join("\n")}},379:function(n){var t=[];function e(n){for(var e=-1,o=0;o<t.length;o++)if(t[o].identifier===n){e=o;break}return e}function o(n,o){for(var A={},i=[],s=0;s<n.length;s++){var a=n[s],d=o.base?a[0]+o.base:a[0],c=A[d]||0,l="".concat(d," ").concat(c);A[d]=c+1;var u=e(l),p={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var h=r(p,o);o.byIndex=s,t.splice(s,0,{identifier:l,updater:h,references:1})}i.push(l)}return i}function r(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,r){var A=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<A.length;i++){var s=e(A[i]);t[s].references--}for(var a=o(n,r),d=0;d<A.length;d++){var c=e(A[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}A=a}}},569:function(n){var t={};n.exports=function(n,e){var o=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}},216:function(n){n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},565:function(n,t,e){n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},795:function(n){n.exports=function(n){var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var o="";e.supports&&(o+="@supports (".concat(e.supports,") {")),e.media&&(o+="@media ".concat(e.media," {"));var r=void 0!==e.layer;r&&(o+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),o+=e.css,r&&(o+="}"),e.media&&(o+="}"),e.supports&&(o+="}");var A=e.sourceMap;A&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(A))))," */")),t.styleTagTransform(o,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},589:function(n){n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}},t={};function e(o){var r=t[o];if(void 0!==r)return r.exports;var A=t[o]={id:o,exports:{}};return n[o](A,A.exports,e),A.exports}e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,{a:t}),t},e.d=function(n,t){for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.nc=void 0,function(){class n{constructor(){this.snakeEle=document.querySelector(".snake"),this.head=this.snakeEle.querySelector("div"),this.bodies=this.snakeEle.getElementsByTagName("div"),this.gameOverMask=document.querySelector(".gameOverMask")}getPos(){return{x:this.head.offsetLeft,y:this.head.offsetTop}}setPos(n){this.moveBody(),this.head.style.left=n.x+"px",this.head.style.top=n.y+"px",this.checkBody()}addBody(){this.bodies[this.bodies.length-1].insertAdjacentHTML("afterend","<div></div>")}moveBody(){for(let n=this.bodies.length-1;n>0;n--){const t=this.bodies[n];t.style.left=this.bodies[n-1].style.left,t.style.top=this.bodies[n-1].style.top}}checkBody(){if(this.bodies.length>1)for(let n=1;n<this.bodies.length;n++){const t=this.bodies[n];t.offsetLeft==this.head.offsetLeft&&t.offsetTop==this.head.offsetTop&&(alert("游戏结束"),this.gameOver())}}gameOver(){this.gameOverMask.style.display="block"}}class t{constructor(){this.score=0,this.level=1,this.scoreEle=document.querySelector(".score-panel .score span"),this.levelEle=document.querySelector(".score-panel .level span"),this.scoreEle.innerText=this.score.toString(),this.levelEle.innerText=this.level.toString()}addScore(){this.scoreEle.innerText=(this.score+=2).toString(),this.score%4==0&&this.addLevel()}addLevel(){this.level<20&&(this.levelEle.innerText=(++this.level).toString())}}class o{constructor(){this.element=document.querySelector(".food")}getPosition(){return{x:this.element.offsetLeft,y:this.element.offsetTop}}randomBorn(){const n=10*Math.round(29*Math.random()),t=10*Math.round(29*Math.random());this.element.style.left=n+"px",this.element.style.top=t+"px",this.getPosition()}}class r{constructor(){this.isAlive=!0,this.direction="ArrowRight",this.timeout=11,this.food=new o,this.scorePanel=new t,this.snake=new n,this.btnUp=document.querySelector(".btnUp"),this.btnLeft=document.querySelector(".btnLeft"),this.btnDown=document.querySelector(".btnDown"),this.btnRight=document.querySelector(".btnRight"),this.showCountdown=document.querySelector(".score-panel .timer>span"),this.init()}init(){document.addEventListener("keydown",this.kbdHandler.bind(this)),this.snakeMove(),this.btnCtrl(),this.countdown()}kbdHandler(n,t){let e;if(e=null!==n?n.key:t,["w","a","s","d","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e)){if(["w","ArrowUp"].includes(this.direction)&&["s","ArrowDown"].includes(e))return;if(["a","ArrowLeft"].includes(this.direction)&&["d","ArrowRight"].includes(e))return;if(["s","ArrowDown"].includes(this.direction)&&["w","ArrowUp"].includes(e))return;if(["d","ArrowRight"].includes(this.direction)&&["a","ArrowLeft"].includes(e))return;this.direction=e}this.snakeMove()}snakeMove(){clearTimeout(this.moveTimer);let n=this.snake.getPos();switch(this.direction){case"w":case"ArrowUp":n.y-=10;break;case"a":case"ArrowLeft":n.x-=10;break;case"s":case"ArrowDown":n.y+=10;break;case"d":case"ArrowRight":n.x+=10}n.x<0&&(n.x=290),n.y<0&&(n.y=290),n.x>290&&(n.x=0),n.y>290&&(n.y=0),n.x===this.food.getPosition().x&&n.y===this.food.getPosition().y&&(this.timeout+=3,this.scorePanel.addScore(),this.food.randomBorn(),this.snake.addBody()),this.snake.setPos(n),this.isAlive&&(this.moveTimer=setTimeout((()=>{this.snakeMove()}),200-18*this.scorePanel.level))}btnCtrl(){console.log(this.btnUp),this.btnUp.addEventListener("click",(()=>{console.log("btnUp"),this.kbdHandler(null,"ArrowUp")})),this.btnLeft.addEventListener("click",(()=>{console.log("btnLeft"),this.kbdHandler(null,"ArrowLeft")})),this.btnDown.addEventListener("click",(()=>{console.log("btnDown"),this.kbdHandler(null,"ArrowDown")})),this.btnRight.addEventListener("click",(()=>{console.log("btnRight"),this.kbdHandler(null,"ArrowRight")}))}countdown(){this.countdownIntervalTimer=setInterval((()=>{this.showCountdown.innerText=(--this.timeout).toString(),this.timeout<1&&(alert("你饿死了"),this.snake.gameOver(),clearInterval(this.countdownIntervalTimer))}),1e3)}}var A,i,s=e(379),a=e.n(s),d=e(795),c=e.n(d),l=e(569),u=e.n(l),p=e(565),h=e.n(p),b=e(216),f=e.n(b),g=e(589),m=e.n(g),x=e(820),y={};y.styleTagTransform=m(),y.setAttributes=h(),y.insert=u().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=f(),a()(x.Z,y),x.Z&&x.Z.locals&&x.Z.locals,null===(A=document.querySelector(".startBtn"))||void 0===A||A.addEventListener("click",(()=>{new r,document.querySelector(".startMask").style.display="none"})),null===(i=document.querySelector(".gameOverBtn"))||void 0===i||i.addEventListener("click",(()=>{window.location.reload()}))}()}();
//# sourceMappingURL=bundle.js.map