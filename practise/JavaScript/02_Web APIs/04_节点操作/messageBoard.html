<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>messageBoard</title>
        <style>
            .btn {
                vertical-align: bottom;
            }
        </style>
    </head>
    <body>
        <form action="#">
            <textarea
                name=""
                id=""
                cols="30"
                rows="10"
                placeholder="请输入留言"
            ></textarea>
            <input class="btn" type="button" value="提交留言" />
        </form>
        <ul></ul>

        <script>
            var text = document.querySelector("textarea");
            var btn = text.nextElementSibling;
            var ul = document.querySelector("ul");

            btn.onclick = function () {
                var time = new Date();
                var time_str;
                time_str =
                    " 发布于 " +
                    (time.getMonth() + 1) +
                    "月 " +
                    time.getDate() +
                    "日 " +
                    time.getHours() +
                    "时 " +
                    time.getMinutes() +
                    "分 " +
                    time.getSeconds() +
                    "秒";
                // 添加留言
                var li = document.createElement("li");
                console.log(li);
                ul.insertBefore(li, ul.children[0]);
                console.log(li);
                li.innerHTML = text.value + time_str;
                // 添加删除按钮
                var del_btn = document.createElement("input");
                li.appendChild(del_btn);
                del_btn.type = "button";
                del_btn.value = "删除";
                del_btn.onclick = function () {
                    ul.removeChild(this.parentNode);
                };
            };
        </script>
    </body>
</html>
